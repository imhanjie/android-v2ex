ext {
    compileSdkVersion = 29
    minSdkVersion = 21
    targetSdkVersion = 29

    appcompat = "1.1.0"
    core_ktx = "1.2.0"
    multidex = "2.0.1"
    kotlin = "1.3.72"
    kotlin_coroutines = '1.3.5'
    lifecycle = "2.2.0"
    work_manager = "2.3.4"
    retrofit = "2.8.1"
    okhttp = "3.14.7"
    paging = "2.1.2"
    room = "2.2.5"
    stetho = "1.5.1"
    glide = "4.11.0"
}

/**
 * 统一依赖版本
 */
def handleDependency(ConfigurationContainer configurations) {
    configurations.all {
        resolutionStrategy {
            eachDependency { DependencyResolveDetails details ->
                if (details.requested.group == 'androidx.lifecycle') {
                    if (details.requested.name.startsWith("lifecycle-")) {
                        details.useVersion lifecycle
                    }
                }
            }
        }
    }
}


static def addRepository(RepositoryHandler handler) {
    handler.google()
    handler.jcenter()
    handler.maven { url 'https://jitpack.io' }
}

ext.addRepository = this.&addRepository
ext.handleDependency = this.&handleDependency